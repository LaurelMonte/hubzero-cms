<?php

require_once 'lib/data/om/BaseRole.php';


/**
 * Skeleton subclass for representing a row from the 'Role' table.
 *
 *
 *
 * This class was autogenerated by Propel on:
 *
 * Sat Feb  9 00:03:07 2008
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.data
 */
class Role extends BaseRole {
/**
 * Constructor.
 *
 * Creates an instance of Role.  Parameters define the name of the Role and
 * the default permissions for that Role.
 *
 * Note that the permissions parameter is a Parameter object.
 *
 * @param int $id
 * @param string $name
 * @param Permissions $permissions
 */

  public function __construct($name='',
                              Permissions $permissions=null,
                              $entityTypeId = 1)
  {
    $this->setName($name);
    $this->setDefaultPermissions(is_null($permissions)?new Permissions(Permissions::PERMISSION_NONE):$permissions);
    $this->setEntityTypeId($entityTypeId);
  }


  /**
   * The parent class BaseRole::getDefaultPermissionsStr() returns a String.
   * This function returns a Permissions Object
   *
   * @return Permissions Object
   */
  function getDefaultPermissions() {
    $permissionstr = $this->getDefaultPermissionsStr();
    return new Permissions(is_null($permissionstr) ? Permissions::PERMISSION_NONE : $permissionstr);
  }


  /**
   * The parent class BaseRole::setDefaultPermissionsStr() passing a String.
   * This function passing a Permissions object
   *
   * @param Permissions $perm
   */
  function setDefaultPermissions(Permissions $perm) {
    return $this->setDefaultPermissionsStr(is_null($perm) ? Permissions::PERMISSION_NONE : $perm->toString());
  }


  /**
   * Temporary wrapper since we changed name to display_name in the database
   */
  function getName() {
    return $this->getDisplayName();
  }

  /**
   * Temporary wrapper since we changed name to display_name in the database
   */
  function setName($name) {
    return $this->setDisplayName($name);
  }

  /**
   * Return the Web-Services URL that this instance is accessible at
   *
   * @return String RESTURI
   */
  function getRESTURI() {
    return "/Role/{$this->getId()}";
  }

} // Role
?>
